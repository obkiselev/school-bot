# School Helper v0.1.4

Телеграм-бот для тестирования школьника-пятиклассника по английскому и испанскому языкам. Работает полностью локально с использованием LLM через LM Studio.

## Возможности

- **Два языка**: английский (продвинутый уровень) и испанский (начальный уровень)
- **5 типов заданий**: выбор ответа, вставить слово, перевод, верно/неверно
- **Уникальные вопросы**: бот запоминает историю и не повторяет вопросы между тестами
- **Обратная связь**: объяснение ошибок на русском языке
- **Настраиваемость**: выбор количества вопросов (5/10/15/20)
- **История**: сохранение результатов, отслеживание прогресса
- **Ограничение доступа**: белый список пользователей, роли admin/student, команды /allow, /block, /users
- **Полная конфиденциальность**: все данные хранятся локально

## Требования

- Python 3.11+
- LM Studio с моделью Qwen2.5-7B-Instruct (Q4_K_M)
- Токен Telegram-бота (от @BotFather)

## Установка

1. Установить зависимости:
```bash
pip install -r requirements.txt
```

2. Скопировать `.env.example` в `.env` и заполнить:
```bash
cp .env.example .env
```

3. В `.env` указать токен бота и ID администратора:
```
BOT_TOKEN=ваш_токен_от_BotFather
ADMIN_ID=ваш_telegram_id
```

4. Запустить LM Studio с моделью Qwen2.5-7B-Instruct

5. Запустить бота:
```bash
python run.py
```

## Настройка LM Studio

1. Открыть LM Studio → вкладка Discover
2. Найти и скачать **Qwen2.5-7B-Instruct** (Q4_K_M, ~4.7 ГБ)
3. Загрузить модель → вкладка Developer
4. Сервер запустится на `http://localhost:1234`

## Структура проекта

```
school_helper/
├── run.py              # Точка входа
├── bot/
│   ├── config.py       # Настройки
│   ├── handlers/       # Обработчики сообщений
│   ├── middleware/      # Middleware (контроль доступа)
│   ├── states/         # FSM-состояния
│   ├── keyboards/      # Клавиатуры
│   ├── services/       # Бизнес-логика
│   ├── llm/            # Интеграция с LLM
│   └── db/             # База данных
└── data/               # SQLite база данных
```
