---
# Creation date (YYYY-MM-DD)
created: 2026-02-27

# Status: draft | approved
status: approved

# Work type: feature | bug | refactoring
type: feature

# Feature size: S (1-3 files, local fix) | M (several components) | L (new architecture)
size: M
---

# User Spec: –ö–æ–º–∞–Ω–¥–∞ /raspisanie ‚Äî —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —É—Ä–æ–∫–æ–≤

## –ß—Ç–æ –¥–µ–ª–∞–µ–º

–î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–∞–Ω–¥—É `/raspisanie` –≤ Telegram-–±–æ—Ç. –ö–æ–º–∞–Ω–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —É—Ä–æ–∫–æ–≤ —Ä–µ–±—ë–Ω–∫–∞ –∏–∑ –ú–≠–® (dnevnik.mos.ru). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è. Inline-–∫–Ω–æ–ø–∫–∞–º–∏ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –∑–∞–≤—Ç—Ä–∞ –∏–ª–∏ –≤—Å—é –Ω–µ–¥–µ–ª—é. –ï—Å–ª–∏ —É —Ä–æ–¥–∏—Ç–µ–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ—Ç–µ–π ‚Äî —Å–Ω–∞—á–∞–ª–∞ –≤—ã–±–æ—Ä —Ä–µ–±—ë–Ω–∫–∞.

## –ó–∞—á–µ–º

–†–æ–¥–∏—Ç–µ–ª—å, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤ –ú–≠–®, —Ö–æ—á–µ—Ç –±—ã—Å—Ç—Ä–æ —É–∑–Ω–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–±—ë–Ω–∫–∞ –ø—Ä—è–º–æ –≤ Telegram, –Ω–µ –∑–∞—Ö–æ–¥—è –Ω–∞ —Å–∞–π—Ç dnevnik.mos.ru. –≠—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –±–æ—Ç–∞ ‚Äî –±–µ–∑ –Ω–µ—ë –±–æ—Ç –±–µ—Å–ø–æ–ª–µ–∑–µ–Ω. –°–µ–π—á–∞—Å –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –±–æ—Ç –Ω–∏—á–µ–≥–æ –Ω–µ —É–º–µ–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å.

## –ö–∞–∫ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –æ–¥–∏–Ω —Ä–µ–±—ë–Ω–æ–∫

1. –†–æ–¥–∏—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç `/raspisanie`
2. –ë–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –æ—Ç–≤–µ—á–∞–µ—Ç ¬´–°–Ω–∞—á–∞–ª–∞ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å: /start¬ª
3. –ë–æ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è –∏–∑ –ú–≠–® API
4. –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –ú–≠–® –∏—Å—Ç—ë–∫ ‚Äî –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –µ–≥–æ (–∏—Å–ø–æ–ª—å–∑—É—è —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å), –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —ç—Ç–æ–≥–æ –Ω–µ –≤–∏–¥–∏—Ç
5. –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
   ```
   üìö –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ 27 —Ñ–µ–≤—Ä–∞–ª—è (—á–µ—Ç–≤–µ—Ä–≥)

   1. 08:30‚Äì09:15 ‚Äî –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞
      üìç –ö–∞–±. 301 | üë®‚Äçüè´ –ò–≤–∞–Ω–æ–≤–∞ –ê.–ü.

   2. 09:25‚Äì10:10 ‚Äî –†—É—Å—Å–∫–∏–π —è–∑—ã–∫
      üìç –ö–∞–±. 205 | üë®‚Äçüè´ –ü–µ—Ç—Ä–æ–≤–∞ –ú.–ò.
   ...
   ```
6. –ü–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏–µ–º inline-–∫–Ω–æ–ø–∫–∏: `[–°–µ–≥–æ–¥–Ω—è] [–ó–∞–≤—Ç—Ä–∞] [–ù–µ–¥–µ–ª—è]`
7. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –Ω–∞ –º–µ—Å—Ç–µ (–Ω–µ –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ)

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ—Ç–µ–π

1. –†–æ–¥–∏—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç `/raspisanie`
2. –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç inline-–∫–Ω–æ–ø–∫–∏ —Å –∏–º–µ–Ω–∞–º–∏ –¥–µ—Ç–µ–π
3. –†–æ–¥–∏—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ä–µ–±—ë–Ω–∫–∞
4. –î–∞–ª–µ–µ –∫–∞–∫ –≤ —Å—Ü–µ–Ω–∞—Ä–∏–∏ 1

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –Ω–µ—Ç —É—Ä–æ–∫–æ–≤ (–≤—ã—Ö–æ–¥–Ω–æ–π/–∫–∞–Ω–∏–∫—É–ª—ã)

1. –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: ¬´–ù–∞ —ç—Ç–æ—Ç –¥–µ–Ω—å —É—Ä–æ–∫–æ–≤ –Ω–µ—Ç¬ª
2. –ü–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ—Å—Ç–∞—é—Ç—Å—è –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –ø–µ—Ä–∏–æ–¥–∞

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –æ—à–∏–±–∫–∞ –ú–≠–® API

1. –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç: ¬´–°–µ—Ä–≤–∏—Å –ú–≠–® –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ¬ª
2. –ü–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏–µ–º –∫–Ω–æ–ø–∫–∞: `[üîÑ –ü–æ–≤—Ç–æ—Ä–∏—Ç—å]`

### –°—Ü–µ–Ω–∞—Ä–∏–π 5: –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –Ω–µ —É–¥–∞–ª–æ—Å—å

1. –ë–æ—Ç –ø—ã—Ç–∞–µ—Ç—Å—è –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –Ω–æ –ú–≠–® –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å
2. –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: ¬´–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ú–≠–®. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–µ—Ä–µ—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å: /start¬ª

### –°—Ü–µ–Ω–∞—Ä–∏–π 6: —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –Ω–µ–¥–µ–ª—é

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É ¬´–ù–µ–¥–µ–ª—è¬ª
2. –ë–æ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –∫–∞–∂–¥—ã–π –±—É–¥–Ω–∏–π –¥–µ–Ω—å —Ç–µ–∫—É—â–µ–π —É—á–µ–±–Ω–æ–π –Ω–µ–¥–µ–ª–∏ (–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫‚Äî–ø—è—Ç–Ω–∏—Ü–∞), –ø–æ –æ–¥–Ω–æ–º—É –∑–∞–ø—Ä–æ—Å—É –Ω–∞ –¥–µ–Ω—å
3. –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –¥–Ω–∏ –≤ –æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ —Å –¥–∞—Ç–∞–º–∏
4. –ï—Å–ª–∏ —á–∞—Å—Ç—å –¥–Ω–µ–π –±–µ–∑ —É—Ä–æ–∫–æ–≤ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–Ω–∏ —Å —É—Ä–æ–∫–∞–º–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 7: ¬´–ø—Ä–æ—Ç—É—Ö—à–∏–π¬ª callback (–±–æ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω)

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç inline-–∫–Ω–æ–ø–∫—É –æ—Ç —Å—Ç–∞—Ä–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è (–ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞)
2. –ë–æ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞–∂–∞—Ç–∏–µ ‚Äî ID —Ä–µ–±—ë–Ω–∫–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ callback_data –∫–Ω–æ–ø–∫–∏, –∞ –Ω–µ –≤ FSM-—Å–æ—Å—Ç–æ—è–Ω–∏–∏

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏

- [ ] –ö–æ–º–∞–Ω–¥–∞ `/raspisanie` –æ—Ç–≤–µ—á–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
- [ ] –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç: –Ω–æ–º–µ—Ä —É—Ä–æ–∫–∞, –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞-–∫–æ–Ω—Ü–∞, –ø—Ä–µ–¥–º–µ—Ç, –∫–∞–±–∏–Ω–µ—Ç, —É—á–∏—Ç–µ–ª—å
- [ ] Inline-–∫–Ω–æ–ø–∫–∏ ¬´–°–µ–≥–æ–¥–Ω—è¬ª, ¬´–ó–∞–≤—Ç—Ä–∞¬ª, ¬´–ù–µ–¥–µ–ª—è¬ª –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç –ø–µ—Ä–∏–æ–¥
- [ ] –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –Ω–∞ –º–µ—Å—Ç–µ (edit_message)
- [ ] –ï—Å–ª–∏ —É —Ä–æ–¥–∏—Ç–µ–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ—Ç–µ–π ‚Äî —Å–Ω–∞—á–∞–ª–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ —Ä–µ–±—ë–Ω–∫–∞
- [ ] –ï—Å–ª–∏ —Ä–µ–±—ë–Ω–æ–∫ –æ–¥–∏–Ω ‚Äî —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É, –±–µ–∑ –≤—ã–±–æ—Ä–∞
- [ ] –ù–µ–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º /start
- [ ] –ü—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Ç–æ–∫–µ–Ω–∞ –ú–≠–® ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –±–µ–∑ –æ—à–∏–±–æ–∫, –≤ –ª–æ–≥–∞—Ö —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è ¬´token refreshed for user {id}¬ª
- [ ] –ï—Å–ª–∏ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –Ω–µ —É–¥–∞–ª–æ—Å—å ‚Äî –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç ¬´–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ú–≠–®. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–µ—Ä–µ—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å: /start¬ª
- [ ] –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ú–≠–® API ‚Äî –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–º ¬´–°–µ—Ä–≤–∏—Å –ú–≠–® –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ¬ª –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫—É ¬´üîÑ –ü–æ–≤—Ç–æ—Ä–∏—Ç—å¬ª
- [ ] –í –≤—ã—Ö–æ–¥–Ω—ã–µ/–∫–∞–Ω–∏–∫—É–ª—ã ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ ¬´–ù–∞ —ç—Ç–æ—Ç –¥–µ–Ω—å —É—Ä–æ–∫–æ–≤ –Ω–µ—Ç¬ª —Å –∫–Ω–æ–ø–∫–∞–º–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –ø–µ—Ä–∏–æ–¥–∞
- [ ] –ö–Ω–æ–ø–∫–∞ ¬´–ù–µ–¥–µ–ª—è¬ª –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Ç–µ–∫—É—â—É—é —É—á–µ–±–Ω—É—é –Ω–µ–¥–µ–ª—é (–ø–Ω‚Äî–ø—Ç) –≤ –æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏
- [ ] ID —Ä–µ–±—ë–Ω–∫–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ callback_data –∫–Ω–æ–ø–æ–∫ (–Ω–µ –≤ FSM), –ø–æ—ç—Ç–æ–º—É –∫–Ω–æ–ø–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞
- [ ] –í—Å–µ –æ—à–∏–±–∫–∏ API –ª–æ–≥–∏—Ä—É—é—Ç—Å—è (—É—Ä–æ–≤–µ–Ω—å ERROR)

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ú–≠–® API –Ω–µ–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ ‚Äî —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –º–æ–≥—É—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- Rate limit: –Ω–µ –±–æ–ª–µ–µ 30 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É –∫ –ú–≠–® API
- –†–∞–±–æ—Ç–∞–µ–º —Å —Ä–µ–∞–ª—å–Ω—ã–º API, –±–µ–∑ –º–æ–∫–æ–≤
- Python 3.9+, aiogram 3.25, aiosqlite

## –†–∏—Å–∫–∏

- **–†–∏—Å–∫ 1:** –ú–≠–® API –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –∏–ª–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã. **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ø–æ–Ω—è—Ç–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é; –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è.
- **–†–∏—Å–∫ 2:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –º–æ–∂–µ—Ç –Ω–µ —Å—Ä–∞–±–æ—Ç–∞—Ç—å (–ú–≠–® —Å–º–µ–Ω–∏–ª —Å–ø–æ—Å–æ–± –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏). **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –µ—Å–ª–∏ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å ‚Äî –ø–æ–ø—Ä–æ—Å–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–µ—Ä–µ—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ /start.
- **–†–∏—Å–∫ 3:** –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –≤ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (–ø—É—Å—Ç—ã–µ –ø–æ–ª—è). **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ, —á—Ç–æ –µ—Å—Ç—å, –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å –ø—É—Å—Ç—ã–µ –ø–æ–ª—è –±–µ–∑ –ø–∞–¥–µ–Ω–∏—è.

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è

- –ö–Ω–æ–ø–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ –º–µ—Å—Ç–µ (–∞ –Ω–µ —à–ª—é—Ç –Ω–æ–≤–æ–µ), –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç–∞–∫ —á–∏—â–µ –∏ —É–¥–æ–±–Ω–µ–µ.
- –¢–æ–∫–µ–Ω –æ–±–Ω–æ–≤–ª—è–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –¥–æ–ª–∂–µ–Ω –¥—É–º–∞—Ç—å –æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ç–∞–ª—è—Ö ‚Äî –±–æ—Ç –¥–æ–ª–∂–µ–Ω ¬´–ø—Ä–æ—Å—Ç–æ —Ä–∞–±–æ—Ç–∞—Ç—å¬ª.
- ID —Ä–µ–±—ë–Ω–∫–∞ —Ö—Ä–∞–Ω–∏–º –≤ callback_data –∫–Ω–æ–ø–æ–∫ (–∞ –Ω–µ –≤ FSM-—Å–æ—Å—Ç–æ—è–Ω–∏–∏), –ø–æ—Ç–æ–º—É —á—Ç–æ FSM-—Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞.
- ¬´–ù–µ–¥–µ–ª—è¬ª ‚Äî —ç—Ç–æ —Ç–µ–∫—É—â–∞—è —É—á–µ–±–Ω–∞—è –Ω–µ–¥–µ–ª—è (–ø–Ω‚Äî–ø—Ç), 5 –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ –¥–µ–Ω—å).
- –ü—Ä–æ–≤–µ—Ä–∫—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –¥–µ–ª–∞–µ–º –ø—Ä—è–º–æ –≤ —Ö–µ–Ω–¥–ª–µ—Ä–µ (–±–µ–∑ middleware), –ø–æ—Ç–æ–º—É —á—Ç–æ middleware –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω –Ω–∞ –±—É–¥—É—â–µ–µ.
- –†–∞–±–æ—Ç–∞–µ–º —Å—Ä–∞–∑—É —Å –∂–∏–≤—ã–º –ú–≠–® API, –ø–æ—Ç–æ–º—É —á—Ç–æ –µ—Å—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**Unit-—Ç–µ—Å—Ç—ã:** –¥–µ–ª–∞—é—Ç—Å—è –≤—Å–µ–≥–¥–∞, –Ω–µ –æ–±—Å—É–∂–¥–∞—é—Ç—Å—è.

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:** –¥–µ–ª–∞–µ–º ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–±–æ—Ç—É API-–∫–ª–∏–µ–Ω—Ç–∞ —Å —Ä–µ–∞–ª—å–Ω—ã–º –ú–≠–® API (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫).

**E2E —Ç–µ—Å—Ç—ã:** –Ω–µ –¥–µ–ª–∞–µ–º ‚Äî —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram –ø—Ä–æ–≤–æ–¥–∏—Ç—Å—è –≤—Ä—É—á–Ω—É—é —Å —Ä–µ–∞–ª—å–Ω—ã–º –∞–∫–∫–∞—É–Ω—Ç–æ–º.

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

### –ê–≥–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç

| –®–∞–≥ | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|-----------|-------------------|
| 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ | bash: `python -c "from handlers.schedule import router"` | –ò–º–ø–æ—Ä—Ç –±–µ–∑ –æ—à–∏–±–æ–∫ |
| 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É: —Ö–µ–Ω–¥–ª–µ—Ä –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω | bash: `grep "schedule" bot.py` | schedule router –ø–æ–¥–∫–ª—é—á—ë–Ω |
| 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å unit-—Ç–µ—Å—Ç—ã | bash: `pytest` | –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç |

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç

- –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/raspisanie` –≤ Telegram ‚Äî –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å—Å—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
- –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫–∏ ¬´–ó–∞–≤—Ç—Ä–∞¬ª –∏ ¬´–ù–µ–¥–µ–ª—è¬ª ‚Äî —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/raspisanie` –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (—Å –Ω–æ–≤–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞) ‚Äî –¥–æ–ª–∂–Ω–æ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å /start
